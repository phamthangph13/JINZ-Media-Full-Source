{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule, Validators } from '@angular/forms';\nimport { SERVICE_TYPES, SERVICE_CATEGORIES } from '../models/service.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = () => ({\n  standalone: true\n});\nfunction ServiceFormComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1, \" Vui l\\u00F2ng nh\\u1EADp t\\u00EAn d\\u1ECBch v\\u1EE5 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceFormComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r1.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", type_r1.label, \" \");\n  }\n}\nfunction ServiceFormComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1, \" Vui l\\u00F2ng ch\\u1ECDn lo\\u1EA1i d\\u1ECBch v\\u1EE5 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceFormComponent_option_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", category_r2, \" \");\n  }\n}\nfunction ServiceFormComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1, \" Vui l\\u00F2ng ch\\u1ECDn danh m\\u1EE5c \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceFormComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1, \" Vui l\\u00F2ng nh\\u1EADp quy\\u1EC1n truy c\\u1EADp \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceFormComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 52)(1, \"div\", 53)(2, \"div\", 54)(3, \"label\", 55);\n    i0.ɵɵtext(4, \"Key\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 56);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ServiceFormComponent_div_58_Template_input_ngModelChange_5_listener($event) {\n      const meta_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      i0.ɵɵtwoWayBindingSet(meta_r4.key, $event) || (meta_r4.key = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 57)(7, \"label\", 55);\n    i0.ɵɵtext(8, \"Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 58);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ServiceFormComponent_div_58_Template_input_ngModelChange_9_listener($event) {\n      const meta_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      i0.ɵɵtwoWayBindingSet(meta_r4.value, $event) || (meta_r4.value = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 59)(11, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function ServiceFormComponent_div_58_Template_button_click_11_listener() {\n      const i_r5 = i0.ɵɵrestoreView(_r3).index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.removeMetadata(i_r5));\n    });\n    i0.ɵɵelement(12, \"i\", 61);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const meta_r4 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", meta_r4.key);\n    i0.ɵɵproperty(\"ngModelOptions\", i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", meta_r4.value);\n    i0.ɵɵproperty(\"ngModelOptions\", i0.ɵɵpureFunction0(5, _c0));\n  }\n}\nfunction ServiceFormComponent_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 62);\n    i0.ɵɵelement(1, \"i\", 63);\n    i0.ɵɵtext(2, \" Ch\\u01B0a c\\u00F3 metadata n\\u00E0o. Click \\\"Th\\u00EAm metadata\\\" \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceFormComponent_div_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"h6\", 5);\n    i0.ɵɵtext(3, \"Xem tr\\u01B0\\u1EDBc h\\u00ECnh \\u1EA3nh\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 64);\n    i0.ɵɵelement(5, \"img\", 65);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", ctx_r5.imagePreview || ctx_r5.getFileUrl(ctx_r5.serviceData == null ? null : ctx_r5.serviceData.image), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ServiceFormComponent_div_84_video_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"video\", 67);\n    i0.ɵɵtext(1, \" Tr\\u00ECnh duy\\u1EC7t kh\\u00F4ng h\\u1ED7 tr\\u1EE3 video. \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r5.videoPreview || ctx_r5.getFileUrl(ctx_r5.serviceData == null ? null : ctx_r5.serviceData.tutorialVideo), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ServiceFormComponent_div_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"h6\", 5);\n    i0.ɵɵtext(3, \"Video h\\u01B0\\u1EDBng d\\u1EABn\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 64);\n    i0.ɵɵtemplate(5, ServiceFormComponent_div_84_video_5_Template, 2, 1, \"video\", 66);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.videoPreview || (ctx_r5.serviceData == null ? null : ctx_r5.serviceData.tutorialVideo));\n  }\n}\nfunction ServiceFormComponent_i_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 68);\n  }\n}\nfunction ServiceFormComponent_i_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 69);\n  }\n}\nexport class ServiceFormComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.serviceData = null;\n    this.editMode = false;\n    this.loading = false;\n    this.formSubmit = new EventEmitter();\n    this.formCancel = new EventEmitter();\n    this.selectedImage = null;\n    this.selectedVideo = null;\n    this.imagePreview = null;\n    this.videoPreview = null;\n    this.metadataEntries = [];\n    this.serviceTypes = SERVICE_TYPES;\n    this.serviceCategories = SERVICE_CATEGORIES;\n    this.initForm();\n  }\n  ngOnInit() {\n    this.initForm();\n  }\n  ngOnChanges(changes) {\n    if (changes['serviceData'] && this.serviceData && this.editMode) {\n      this.populateForm();\n    }\n  }\n  initForm() {\n    this.serviceForm = this.fb.group({\n      name: ['', [Validators.required, Validators.maxLength(100)]],\n      description: ['', [Validators.maxLength(500)]],\n      type: ['', Validators.required],\n      category: ['', Validators.required],\n      permission: ['', Validators.required],\n      isActive: [true]\n    });\n  }\n  populateForm() {\n    if (!this.serviceData) return;\n    this.serviceForm.patchValue({\n      name: this.serviceData.name,\n      description: this.serviceData.description,\n      type: this.serviceData.type,\n      category: this.serviceData.category,\n      permission: this.serviceData.permission,\n      isActive: this.serviceData.isActive\n    });\n    // Populate metadata\n    this.metadataEntries = [];\n    if (this.serviceData.metadata) {\n      Object.keys(this.serviceData.metadata).forEach(key => {\n        this.metadataEntries.push({\n          key: key,\n          value: this.serviceData.metadata[key]\n        });\n      });\n    }\n  }\n  addMetadata() {\n    this.metadataEntries.push({\n      key: '',\n      value: ''\n    });\n  }\n  removeMetadata(index) {\n    this.metadataEntries.splice(index, 1);\n  }\n  onImageSelect(event) {\n    const file = event.target.files[0];\n    if (file) {\n      // Validate file size (5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        alert('File ảnh quá lớn. Vui lòng chọn file nhỏ hơn 5MB.');\n        return;\n      }\n      // Validate file type\n      if (!file.type.startsWith('image/')) {\n        alert('Vui lòng chọn file hình ảnh.');\n        return;\n      }\n      this.selectedImage = file;\n      // Create preview\n      const reader = new FileReader();\n      reader.onload = e => {\n        this.imagePreview = e.target?.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n  onVideoSelect(event) {\n    const file = event.target.files[0];\n    if (file) {\n      // Validate file size (100MB)\n      if (file.size > 100 * 1024 * 1024) {\n        alert('File video quá lớn. Vui lòng chọn file nhỏ hơn 100MB.');\n        return;\n      }\n      // Validate file type\n      if (!file.type.startsWith('video/')) {\n        alert('Vui lòng chọn file video.');\n        return;\n      }\n      this.selectedVideo = file;\n      // Create preview\n      const reader = new FileReader();\n      reader.onload = e => {\n        this.videoPreview = e.target?.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n  onSubmit() {\n    if (this.serviceForm.valid) {\n      const formValue = this.serviceForm.value;\n      // Convert metadata entries to object\n      const metadata = {};\n      this.metadataEntries.forEach(entry => {\n        if (entry.key && entry.value) {\n          metadata[entry.key] = entry.value;\n        }\n      });\n      const serviceRequest = {\n        name: formValue.name,\n        description: formValue.description,\n        type: formValue.type,\n        category: formValue.category,\n        permission: formValue.permission,\n        isActive: formValue.isActive,\n        metadata: Object.keys(metadata).length > 0 ? metadata : undefined,\n        image: this.selectedImage || undefined,\n        tutorialVideo: this.selectedVideo || undefined\n      };\n      this.formSubmit.emit(serviceRequest);\n    }\n  }\n  onCancel() {\n    this.formCancel.emit();\n  }\n  isFieldInvalid(fieldName) {\n    const field = this.serviceForm.get(fieldName);\n    return !!(field && field.invalid && (field.dirty || field.touched));\n  }\n  getFileUrl(filePath) {\n    if (!filePath) return '';\n    return `http://localhost:5000/${filePath}`;\n  }\n  static #_ = this.ɵfac = function ServiceFormComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ServiceFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ServiceFormComponent,\n    selectors: [[\"app-service-form\"]],\n    inputs: {\n      serviceData: \"serviceData\",\n      editMode: \"editMode\",\n      loading: \"loading\"\n    },\n    outputs: {\n      formSubmit: \"formSubmit\",\n      formCancel: \"formCancel\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 95,\n    vars: 23,\n    consts: [[1, \"service-form\", 3, \"ngSubmit\", \"formGroup\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"mb-0\"], [1, \"fas\", \"fa-info-circle\", \"me-2\"], [1, \"card-body\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"name\", 1, \"form-label\"], [1, \"text-danger\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", \"placeholder\", \"Nh\\u1EADp t\\u00EAn d\\u1ECBch v\\u1EE5\", 1, \"form-control\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"type\", 1, \"form-label\"], [\"id\", \"type\", \"formControlName\", \"type\", 1, \"form-select\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"category\", 1, \"form-label\"], [\"id\", \"category\", \"formControlName\", \"category\", 1, \"form-select\"], [\"for\", \"permission\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"permission\", \"formControlName\", \"permission\", \"placeholder\", \"Nh\\u1EADp quy\\u1EC1n truy c\\u1EADp (vd: user.read)\", 1, \"form-control\"], [1, \"col-12\", \"mb-3\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"formControlName\", \"description\", \"rows\", \"4\", \"placeholder\", \"Nh\\u1EADp m\\u00F4 t\\u1EA3 d\\u1ECBch v\\u1EE5...\", 1, \"form-control\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"fas\", \"fa-tags\", \"me-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"click\"], [1, \"fas\", \"fa-plus\", \"me-1\"], [1, \"metadata-list\"], [\"class\", \"metadata-item p-3 border rounded mb-3\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center text-muted py-4\", 4, \"ngIf\"], [1, \"col-md-4\"], [1, \"fas\", \"fa-file\", \"me-2\"], [1, \"mb-3\"], [\"for\", \"image\", 1, \"form-label\"], [\"type\", \"file\", \"id\", \"image\", \"accept\", \"image/*\", 1, \"form-control\", 3, \"change\"], [1, \"text-muted\"], [\"for\", \"tutorialVideo\", 1, \"form-label\"], [\"type\", \"file\", \"id\", \"tutorialVideo\", \"accept\", \"video/*\", 1, \"form-control\", 3, \"change\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"isActive\", \"formControlName\", \"isActive\", 1, \"form-check-input\"], [\"for\", \"isActive\", 1, \"form-check-label\"], [\"class\", \"card mb-4\", 4, \"ngIf\"], [1, \"col-12\"], [1, \"d-flex\", \"justify-content-end\", \"gap-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"me-1\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"fas fa-spinner fa-spin me-1\", 4, \"ngIf\"], [\"class\", \"fas fa-save me-1\", 4, \"ngIf\"], [1, \"invalid-feedback\"], [3, \"value\"], [1, \"metadata-item\", \"p-3\", \"border\", \"rounded\", \"mb-3\"], [1, \"row\", \"align-items-center\"], [1, \"col-md-5\"], [1, \"form-label\"], [\"type\", \"text\", \"placeholder\", \"Nh\\u1EADp key\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"ngModelOptions\"], [1, \"col-md-6\"], [\"type\", \"text\", \"placeholder\", \"Nh\\u1EADp value\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"ngModelOptions\"], [1, \"col-md-1\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [1, \"text-center\", \"text-muted\", \"py-4\"], [1, \"fas\", \"fa-tags\", \"fa-2x\", \"mb-2\", \"d-block\"], [1, \"card-body\", \"text-center\"], [\"alt\", \"Service Preview\", 1, \"img-fluid\", \"rounded\", 2, \"max-height\", \"200px\", 3, \"src\"], [\"controls\", \"\", \"class\", \"img-fluid rounded\", \"style\", \"max-height: 200px; width: 100%;\", 3, \"src\", 4, \"ngIf\"], [\"controls\", \"\", 1, \"img-fluid\", \"rounded\", 2, \"max-height\", \"200px\", \"width\", \"100%\", 3, \"src\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\", \"me-1\"], [1, \"fas\", \"fa-save\", \"me-1\"]],\n    template: function ServiceFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function ServiceFormComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h5\", 5);\n        i0.ɵɵelement(6, \"i\", 6);\n        i0.ɵɵtext(7, \" Th\\u00F4ng tin c\\u01A1 b\\u1EA3n \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 1)(10, \"div\", 8)(11, \"label\", 9);\n        i0.ɵɵtext(12, \"T\\u00EAn d\\u1ECBch v\\u1EE5 \");\n        i0.ɵɵelementStart(13, \"span\", 10);\n        i0.ɵɵtext(14, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(15, \"input\", 11);\n        i0.ɵɵtemplate(16, ServiceFormComponent_div_16_Template, 2, 0, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 8)(18, \"label\", 13);\n        i0.ɵɵtext(19, \"Lo\\u1EA1i d\\u1ECBch v\\u1EE5 \");\n        i0.ɵɵelementStart(20, \"span\", 10);\n        i0.ɵɵtext(21, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"select\", 14)(23, \"option\", 15);\n        i0.ɵɵtext(24, \"Ch\\u1ECDn lo\\u1EA1i d\\u1ECBch v\\u1EE5\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(25, ServiceFormComponent_option_25_Template, 2, 2, \"option\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, ServiceFormComponent_div_26_Template, 2, 0, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 8)(28, \"label\", 17);\n        i0.ɵɵtext(29, \"Danh m\\u1EE5c \");\n        i0.ɵɵelementStart(30, \"span\", 10);\n        i0.ɵɵtext(31, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"select\", 18)(33, \"option\", 15);\n        i0.ɵɵtext(34, \"Ch\\u1ECDn danh m\\u1EE5c\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(35, ServiceFormComponent_option_35_Template, 2, 2, \"option\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(36, ServiceFormComponent_div_36_Template, 2, 0, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 8)(38, \"label\", 19);\n        i0.ɵɵtext(39, \"Quy\\u1EC1n truy c\\u1EADp \");\n        i0.ɵɵelementStart(40, \"span\", 10);\n        i0.ɵɵtext(41, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(42, \"input\", 20);\n        i0.ɵɵtemplate(43, ServiceFormComponent_div_43_Template, 2, 0, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"div\", 21)(45, \"label\", 22);\n        i0.ɵɵtext(46, \"M\\u00F4 t\\u1EA3\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(47, \"textarea\", 23);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(48, \"div\", 3)(49, \"div\", 24)(50, \"h5\", 5);\n        i0.ɵɵelement(51, \"i\", 25);\n        i0.ɵɵtext(52, \" Metadata (T\\u00F9y ch\\u1ECDn) \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"button\", 26);\n        i0.ɵɵlistener(\"click\", function ServiceFormComponent_Template_button_click_53_listener() {\n          return ctx.addMetadata();\n        });\n        i0.ɵɵelement(54, \"i\", 27);\n        i0.ɵɵtext(55, \" Th\\u00EAm metadata \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(56, \"div\", 7)(57, \"div\", 28);\n        i0.ɵɵtemplate(58, ServiceFormComponent_div_58_Template, 13, 6, \"div\", 29)(59, ServiceFormComponent_div_59_Template, 3, 0, \"div\", 30);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(60, \"div\", 31)(61, \"div\", 3)(62, \"div\", 4)(63, \"h5\", 5);\n        i0.ɵɵelement(64, \"i\", 32);\n        i0.ɵɵtext(65, \" T\\u1EC7p tin \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(66, \"div\", 7)(67, \"div\", 33)(68, \"label\", 34);\n        i0.ɵɵtext(69, \"H\\u00ECnh \\u1EA3nh d\\u1ECBch v\\u1EE5\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"input\", 35);\n        i0.ɵɵlistener(\"change\", function ServiceFormComponent_Template_input_change_70_listener($event) {\n          return ctx.onImageSelect($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"small\", 36);\n        i0.ɵɵtext(72, \"T\\u1ED1i \\u0111a 5MB. \\u0110\\u1ECBnh d\\u1EA1ng: JPG, PNG, GIF\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(73, \"div\", 33)(74, \"label\", 37);\n        i0.ɵɵtext(75, \"Video h\\u01B0\\u1EDBng d\\u1EABn\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"input\", 38);\n        i0.ɵɵlistener(\"change\", function ServiceFormComponent_Template_input_change_76_listener($event) {\n          return ctx.onVideoSelect($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(77, \"small\", 36);\n        i0.ɵɵtext(78, \"T\\u1ED1i \\u0111a 100MB. \\u0110\\u1ECBnh d\\u1EA1ng: MP4, AVI, MOV\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(79, \"div\", 39);\n        i0.ɵɵelement(80, \"input\", 40);\n        i0.ɵɵelementStart(81, \"label\", 41);\n        i0.ɵɵtext(82, \" K\\u00EDch ho\\u1EA1t d\\u1ECBch v\\u1EE5 \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(83, ServiceFormComponent_div_83_Template, 6, 1, \"div\", 42)(84, ServiceFormComponent_div_84_Template, 6, 1, \"div\", 42);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(85, \"div\", 1)(86, \"div\", 43)(87, \"div\", 44)(88, \"button\", 45);\n        i0.ɵɵlistener(\"click\", function ServiceFormComponent_Template_button_click_88_listener() {\n          return ctx.onCancel();\n        });\n        i0.ɵɵelement(89, \"i\", 46);\n        i0.ɵɵtext(90, \" H\\u1EE7y \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(91, \"button\", 47);\n        i0.ɵɵtemplate(92, ServiceFormComponent_i_92_Template, 1, 0, \"i\", 48)(93, ServiceFormComponent_i_93_Template, 1, 0, \"i\", 49);\n        i0.ɵɵtext(94);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.serviceForm);\n        i0.ɵɵadvance(15);\n        i0.ɵɵclassProp(\"is-invalid\", ctx.isFieldInvalid(\"name\"));\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.isFieldInvalid(\"name\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassProp(\"is-invalid\", ctx.isFieldInvalid(\"type\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.serviceTypes);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.isFieldInvalid(\"type\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassProp(\"is-invalid\", ctx.isFieldInvalid(\"category\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.serviceCategories);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.isFieldInvalid(\"category\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassProp(\"is-invalid\", ctx.isFieldInvalid(\"permission\"));\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.isFieldInvalid(\"permission\"));\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngForOf\", ctx.metadataEntries);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.metadataEntries.length === 0);\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"ngIf\", ctx.imagePreview || ctx.editMode && (ctx.serviceData == null ? null : ctx.serviceData.image));\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.videoPreview || ctx.editMode && (ctx.serviceData == null ? null : ctx.serviceData.tutorialVideo));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"disabled\", ctx.serviceForm.invalid || ctx.loading);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", ctx.editMode ? \"C\\u1EADp nh\\u1EADt\" : \"T\\u1EA1o m\\u1EDBi\", \" \");\n      }\n    },\n    dependencies: [CommonModule, i2.NgForOf, i2.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, FormsModule, i1.NgModel],\n    styles: [\".service-form[_ngcontent-%COMP%] {\\n  max-width: 100%;\\n}\\n\\n.metadata-item[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  border: 1px solid #dee2e6 !important;\\n}\\n\\n.card-header[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  border-bottom: 1px solid #dee2e6;\\n}\\n\\n.form-label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  color: #495057;\\n}\\n\\n.text-danger[_ngcontent-%COMP%] {\\n  color: #dc3545 !important;\\n}\\n\\n.btn-sm[_ngcontent-%COMP%] {\\n  padding: 0.25rem 0.5rem;\\n  font-size: 0.875rem;\\n}\\n\\n.metadata-list[_ngcontent-%COMP%] {\\n  min-height: 100px;\\n}\\n\\nvideo[_ngcontent-%COMP%] {\\n  max-width: 100%;\\n  height: auto;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvZmVhdHVyZS1tYW5hZ2VtZW50L2NvbXBvbmVudHMvc2VydmljZS1mb3JtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNFLGVBQUE7QUFBTjs7QUFHSTtFQUNFLHlCQUFBO0VBQ0Esb0NBQUE7QUFBTjs7QUFHSTtFQUNFLHlCQUFBO0VBQ0EsZ0NBQUE7QUFBTjs7QUFHSTtFQUNFLGdCQUFBO0VBQ0EsY0FBQTtBQUFOOztBQUdJO0VBQ0UseUJBQUE7QUFBTjs7QUFHSTtFQUNFLHVCQUFBO0VBQ0EsbUJBQUE7QUFBTjs7QUFHSTtFQUNFLGlCQUFBO0FBQU47O0FBR0k7RUFDRSxlQUFBO0VBQ0EsWUFBQTtBQUFOIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLnNlcnZpY2UtZm9ybSB7XG4gICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgfVxuICAgIFxuICAgIC5tZXRhZGF0YS1pdGVtIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIFxuICAgIC5jYXJkLWhlYWRlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZWUyZTY7XG4gICAgfVxuICAgIFxuICAgIC5mb3JtLWxhYmVsIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICBjb2xvcjogIzQ5NTA1NztcbiAgICB9XG4gICAgXG4gICAgLnRleHQtZGFuZ2VyIHtcbiAgICAgIGNvbG9yOiAjZGMzNTQ1ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIFxuICAgIC5idG4tc20ge1xuICAgICAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07XG4gICAgICBmb250LXNpemU6IDAuODc1cmVtO1xuICAgIH1cbiAgICBcbiAgICAubWV0YWRhdGEtbGlzdCB7XG4gICAgICBtaW4taGVpZ2h0OiAxMDBweDtcbiAgICB9XG5cbiAgICB2aWRlbyB7XG4gICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IGF1dG87XG4gICAgfVxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","CommonModule","ReactiveFormsModule","FormsModule","Validators","SERVICE_TYPES","SERVICE_CATEGORIES","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","type_r1","value","ɵɵadvance","ɵɵtextInterpolate1","label","category_r2","ɵɵtwoWayListener","ServiceFormComponent_div_58_Template_input_ngModelChange_5_listener","$event","meta_r4","ɵɵrestoreView","_r3","$implicit","ɵɵtwoWayBindingSet","key","ɵɵresetView","ServiceFormComponent_div_58_Template_input_ngModelChange_9_listener","ɵɵlistener","ServiceFormComponent_div_58_Template_button_click_11_listener","i_r5","index","ctx_r5","ɵɵnextContext","removeMetadata","ɵɵelement","ɵɵtwoWayProperty","ɵɵpureFunction0","_c0","imagePreview","getFileUrl","serviceData","image","ɵɵsanitizeUrl","videoPreview","tutorialVideo","ɵɵtemplate","ServiceFormComponent_div_84_video_5_Template","ServiceFormComponent","constructor","fb","editMode","loading","formSubmit","formCancel","selectedImage","selectedVideo","metadataEntries","serviceTypes","serviceCategories","initForm","ngOnInit","ngOnChanges","changes","populateForm","serviceForm","group","name","required","maxLength","description","type","category","permission","isActive","patchValue","metadata","Object","keys","forEach","push","addMetadata","splice","onImageSelect","event","file","target","files","size","alert","startsWith","reader","FileReader","onload","e","result","readAsDataURL","onVideoSelect","onSubmit","valid","formValue","entry","serviceRequest","length","undefined","emit","onCancel","isFieldInvalid","fieldName","field","get","invalid","dirty","touched","filePath","_","ɵɵdirectiveInject","i1","FormBuilder","_2","selectors","inputs","outputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","ServiceFormComponent_Template","rf","ctx","ServiceFormComponent_Template_form_ngSubmit_0_listener","ServiceFormComponent_div_16_Template","ServiceFormComponent_option_25_Template","ServiceFormComponent_div_26_Template","ServiceFormComponent_option_35_Template","ServiceFormComponent_div_36_Template","ServiceFormComponent_div_43_Template","ServiceFormComponent_Template_button_click_53_listener","ServiceFormComponent_div_58_Template","ServiceFormComponent_div_59_Template","ServiceFormComponent_Template_input_change_70_listener","ServiceFormComponent_Template_input_change_76_listener","ServiceFormComponent_div_83_Template","ServiceFormComponent_div_84_Template","ServiceFormComponent_Template_button_click_88_listener","ServiceFormComponent_i_92_Template","ServiceFormComponent_i_93_Template","ɵɵclassProp","i2","NgForOf","NgIf","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","CheckboxControlValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","NgModel","styles"],"sources":["C:\\Users\\winni\\OneDrive\\Desktop\\JINZ-Media-Full-Source\\frontend\\src\\app\\features\\feature-management\\components\\service-form.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule, FormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Service, CreateServiceRequest, SERVICE_TYPES, SERVICE_CATEGORIES } from '../models/service.model';\r\n\r\n@Component({\r\n  selector: 'app-service-form',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule, FormsModule],\r\n  template: `\r\n    <form [formGroup]=\"serviceForm\" (ngSubmit)=\"onSubmit()\" class=\"service-form\">\r\n      <div class=\"row\">\r\n        <!-- Basic Information -->\r\n        <div class=\"col-md-8\">\r\n          <div class=\"card mb-4\">\r\n            <div class=\"card-header\">\r\n              <h5 class=\"mb-0\">\r\n                <i class=\"fas fa-info-circle me-2\"></i>\r\n                Thông tin cơ bản\r\n              </h5>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6 mb-3\">\r\n                  <label for=\"name\" class=\"form-label\">Tên dịch vụ <span class=\"text-danger\">*</span></label>\r\n                  <input \r\n                    type=\"text\" \r\n                    class=\"form-control\"\r\n                    id=\"name\"\r\n                    formControlName=\"name\"\r\n                    [class.is-invalid]=\"isFieldInvalid('name')\"\r\n                    placeholder=\"Nhập tên dịch vụ\">\r\n                  <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('name')\">\r\n                    Vui lòng nhập tên dịch vụ\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6 mb-3\">\r\n                  <label for=\"type\" class=\"form-label\">Loại dịch vụ <span class=\"text-danger\">*</span></label>\r\n                  <select \r\n                    class=\"form-select\"\r\n                    id=\"type\"\r\n                    formControlName=\"type\"\r\n                    [class.is-invalid]=\"isFieldInvalid('type')\">\r\n                    <option value=\"\">Chọn loại dịch vụ</option>\r\n                    <option *ngFor=\"let type of serviceTypes\" [value]=\"type.value\">\r\n                      {{ type.label }}\r\n                    </option>\r\n                  </select>\r\n                  <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('type')\">\r\n                    Vui lòng chọn loại dịch vụ\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6 mb-3\">\r\n                  <label for=\"category\" class=\"form-label\">Danh mục <span class=\"text-danger\">*</span></label>\r\n                  <select \r\n                    class=\"form-select\"\r\n                    id=\"category\"\r\n                    formControlName=\"category\"\r\n                    [class.is-invalid]=\"isFieldInvalid('category')\">\r\n                    <option value=\"\">Chọn danh mục</option>\r\n                    <option *ngFor=\"let category of serviceCategories\" [value]=\"category\">\r\n                      {{ category }}\r\n                    </option>\r\n                  </select>\r\n                  <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('category')\">\r\n                    Vui lòng chọn danh mục\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6 mb-3\">\r\n                  <label for=\"permission\" class=\"form-label\">Quyền truy cập <span class=\"text-danger\">*</span></label>\r\n                  <input \r\n                    type=\"text\" \r\n                    class=\"form-control\"\r\n                    id=\"permission\"\r\n                    formControlName=\"permission\"\r\n                    [class.is-invalid]=\"isFieldInvalid('permission')\"\r\n                    placeholder=\"Nhập quyền truy cập (vd: user.read)\">\r\n                  <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('permission')\">\r\n                    Vui lòng nhập quyền truy cập\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-12 mb-3\">\r\n                  <label for=\"description\" class=\"form-label\">Mô tả</label>\r\n                  <textarea \r\n                    class=\"form-control\"\r\n                    id=\"description\"\r\n                    formControlName=\"description\"\r\n                    rows=\"4\"\r\n                    placeholder=\"Nhập mô tả dịch vụ...\"></textarea>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Metadata Section -->\r\n          <div class=\"card mb-4\">\r\n            <div class=\"card-header d-flex justify-content-between align-items-center\">\r\n              <h5 class=\"mb-0\">\r\n                <i class=\"fas fa-tags me-2\"></i>\r\n                Metadata (Tùy chọn)\r\n              </h5>\r\n              <button \r\n                type=\"button\" \r\n                class=\"btn btn-sm btn-outline-primary\"\r\n                (click)=\"addMetadata()\">\r\n                <i class=\"fas fa-plus me-1\"></i>\r\n                Thêm metadata\r\n              </button>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"metadata-list\">\r\n                <div \r\n                  *ngFor=\"let meta of metadataEntries; let i = index\" \r\n                  class=\"metadata-item p-3 border rounded mb-3\">\r\n                  <div class=\"row align-items-center\">\r\n                    <div class=\"col-md-5\">\r\n                      <label class=\"form-label\">Key</label>\r\n                      <input \r\n                        type=\"text\" \r\n                        class=\"form-control\"\r\n                        [(ngModel)]=\"meta.key\"\r\n                        [ngModelOptions]=\"{standalone: true}\"\r\n                        placeholder=\"Nhập key\">\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                      <label class=\"form-label\">Value</label>\r\n                      <input \r\n                        type=\"text\" \r\n                        class=\"form-control\"\r\n                        [(ngModel)]=\"meta.value\"\r\n                        [ngModelOptions]=\"{standalone: true}\"\r\n                        placeholder=\"Nhập value\">\r\n                    </div>\r\n                    <div class=\"col-md-1\">\r\n                      <button \r\n                        type=\"button\" \r\n                        class=\"btn btn-sm btn-outline-danger\"\r\n                        (click)=\"removeMetadata(i)\">\r\n                        <i class=\"fas fa-trash\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div *ngIf=\"metadataEntries.length === 0\" class=\"text-center text-muted py-4\">\r\n                  <i class=\"fas fa-tags fa-2x mb-2 d-block\"></i>\r\n                  Chưa có metadata nào. Click \"Thêm metadata\" để bắt đầu.\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Files & Settings -->\r\n        <div class=\"col-md-4\">\r\n          <div class=\"card mb-4\">\r\n            <div class=\"card-header\">\r\n              <h5 class=\"mb-0\">\r\n                <i class=\"fas fa-file me-2\"></i>\r\n                Tệp tin\r\n              </h5>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"image\" class=\"form-label\">Hình ảnh dịch vụ</label>\r\n                <input \r\n                  type=\"file\" \r\n                  class=\"form-control\"\r\n                  id=\"image\"\r\n                  (change)=\"onImageSelect($event)\"\r\n                  accept=\"image/*\">\r\n                <small class=\"text-muted\">Tối đa 5MB. Định dạng: JPG, PNG, GIF</small>\r\n              </div>\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"tutorialVideo\" class=\"form-label\">Video hướng dẫn</label>\r\n                <input \r\n                  type=\"file\" \r\n                  class=\"form-control\"\r\n                  id=\"tutorialVideo\"\r\n                  (change)=\"onVideoSelect($event)\"\r\n                  accept=\"video/*\">\r\n                <small class=\"text-muted\">Tối đa 100MB. Định dạng: MP4, AVI, MOV</small>\r\n              </div>\r\n\r\n              <div class=\"form-check\">\r\n                <input \r\n                  class=\"form-check-input\" \r\n                  type=\"checkbox\" \r\n                  id=\"isActive\"\r\n                  formControlName=\"isActive\">\r\n                <label class=\"form-check-label\" for=\"isActive\">\r\n                  Kích hoạt dịch vụ\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Image Preview -->\r\n          <div class=\"card mb-4\" *ngIf=\"imagePreview || (editMode && serviceData?.image)\">\r\n            <div class=\"card-header\">\r\n              <h6 class=\"mb-0\">Xem trước hình ảnh</h6>\r\n            </div>\r\n            <div class=\"card-body text-center\">\r\n              <img \r\n                [src]=\"imagePreview || getFileUrl(serviceData?.image)\" \r\n                alt=\"Service Preview\"\r\n                class=\"img-fluid rounded\"\r\n                style=\"max-height: 200px;\">\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Video Preview -->\r\n          <div class=\"card mb-4\" *ngIf=\"videoPreview || (editMode && serviceData?.tutorialVideo)\">\r\n            <div class=\"card-header\">\r\n              <h6 class=\"mb-0\">Video hướng dẫn</h6>\r\n            </div>\r\n            <div class=\"card-body text-center\">\r\n              <video \r\n                *ngIf=\"videoPreview || serviceData?.tutorialVideo\"\r\n                [src]=\"videoPreview || getFileUrl(serviceData?.tutorialVideo)\"\r\n                controls\r\n                class=\"img-fluid rounded\"\r\n                style=\"max-height: 200px; width: 100%;\">\r\n                Trình duyệt không hỗ trợ video.\r\n              </video>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Form Actions -->\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"d-flex justify-content-end gap-2\">\r\n            <button \r\n              type=\"button\" \r\n              class=\"btn btn-secondary\"\r\n              (click)=\"onCancel()\">\r\n              <i class=\"fas fa-times me-1\"></i>\r\n              Hủy\r\n            </button>\r\n            <button \r\n              type=\"submit\" \r\n              class=\"btn btn-primary\"\r\n              [disabled]=\"serviceForm.invalid || loading\">\r\n              <i class=\"fas fa-spinner fa-spin me-1\" *ngIf=\"loading\"></i>\r\n              <i class=\"fas fa-save me-1\" *ngIf=\"!loading\"></i>\r\n              {{ editMode ? 'Cập nhật' : 'Tạo mới' }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  `,\r\n  styles: [`\r\n    .service-form {\r\n      max-width: 100%;\r\n    }\r\n    \r\n    .metadata-item {\r\n      background-color: #f8f9fa;\r\n      border: 1px solid #dee2e6 !important;\r\n    }\r\n    \r\n    .card-header {\r\n      background-color: #f8f9fa;\r\n      border-bottom: 1px solid #dee2e6;\r\n    }\r\n    \r\n    .form-label {\r\n      font-weight: 500;\r\n      color: #495057;\r\n    }\r\n    \r\n    .text-danger {\r\n      color: #dc3545 !important;\r\n    }\r\n    \r\n    .btn-sm {\r\n      padding: 0.25rem 0.5rem;\r\n      font-size: 0.875rem;\r\n    }\r\n    \r\n    .metadata-list {\r\n      min-height: 100px;\r\n    }\r\n\r\n    video {\r\n      max-width: 100%;\r\n      height: auto;\r\n    }\r\n  `]\r\n})\r\nexport class ServiceFormComponent implements OnInit, OnChanges {\r\n  @Input() serviceData: Service | null = null;\r\n  @Input() editMode: boolean = false;\r\n  @Input() loading: boolean = false;\r\n  @Output() formSubmit = new EventEmitter<CreateServiceRequest>();\r\n  @Output() formCancel = new EventEmitter<void>();\r\n\r\n  serviceForm!: FormGroup;\r\n  selectedImage: File | null = null;\r\n  selectedVideo: File | null = null;\r\n  imagePreview: string | null = null;\r\n  videoPreview: string | null = null;\r\n  metadataEntries: { key: string; value: string }[] = [];\r\n\r\n  serviceTypes = SERVICE_TYPES;\r\n  serviceCategories = SERVICE_CATEGORIES;\r\n\r\n  constructor(private fb: FormBuilder) {\r\n    this.initForm();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['serviceData'] && this.serviceData && this.editMode) {\r\n      this.populateForm();\r\n    }\r\n  }\r\n\r\n  initForm() {\r\n    this.serviceForm = this.fb.group({\r\n      name: ['', [Validators.required, Validators.maxLength(100)]],\r\n      description: ['', [Validators.maxLength(500)]],\r\n      type: ['', Validators.required],\r\n      category: ['', Validators.required],\r\n      permission: ['', Validators.required],\r\n      isActive: [true]\r\n    });\r\n  }\r\n\r\n  populateForm() {\r\n    if (!this.serviceData) return;\r\n\r\n    this.serviceForm.patchValue({\r\n      name: this.serviceData.name,\r\n      description: this.serviceData.description,\r\n      type: this.serviceData.type,\r\n      category: this.serviceData.category,\r\n      permission: this.serviceData.permission,\r\n      isActive: this.serviceData.isActive\r\n    });\r\n\r\n    // Populate metadata\r\n    this.metadataEntries = [];\r\n    if (this.serviceData.metadata) {\r\n      Object.keys(this.serviceData.metadata).forEach(key => {\r\n        this.metadataEntries.push({\r\n          key: key,\r\n          value: this.serviceData!.metadata![key]\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  addMetadata() {\r\n    this.metadataEntries.push({ key: '', value: '' });\r\n  }\r\n\r\n  removeMetadata(index: number) {\r\n    this.metadataEntries.splice(index, 1);\r\n  }\r\n\r\n  onImageSelect(event: any) {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      // Validate file size (5MB)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        alert('File ảnh quá lớn. Vui lòng chọn file nhỏ hơn 5MB.');\r\n        return;\r\n      }\r\n\r\n      // Validate file type\r\n      if (!file.type.startsWith('image/')) {\r\n        alert('Vui lòng chọn file hình ảnh.');\r\n        return;\r\n      }\r\n\r\n      this.selectedImage = file;\r\n\r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        this.imagePreview = e.target?.result as string;\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  onVideoSelect(event: any) {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      // Validate file size (100MB)\r\n      if (file.size > 100 * 1024 * 1024) {\r\n        alert('File video quá lớn. Vui lòng chọn file nhỏ hơn 100MB.');\r\n        return;\r\n      }\r\n\r\n      // Validate file type\r\n      if (!file.type.startsWith('video/')) {\r\n        alert('Vui lòng chọn file video.');\r\n        return;\r\n      }\r\n\r\n      this.selectedVideo = file;\r\n\r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        this.videoPreview = e.target?.result as string;\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.serviceForm.valid) {\r\n      const formValue = this.serviceForm.value;\r\n      \r\n      // Convert metadata entries to object\r\n      const metadata: { [key: string]: string } = {};\r\n      this.metadataEntries.forEach(entry => {\r\n        if (entry.key && entry.value) {\r\n          metadata[entry.key] = entry.value;\r\n        }\r\n      });\r\n      \r\n      const serviceRequest: CreateServiceRequest = {\r\n        name: formValue.name,\r\n        description: formValue.description,\r\n        type: formValue.type,\r\n        category: formValue.category,\r\n        permission: formValue.permission,\r\n        isActive: formValue.isActive,\r\n        metadata: Object.keys(metadata).length > 0 ? metadata : undefined,\r\n        image: this.selectedImage || undefined,\r\n        tutorialVideo: this.selectedVideo || undefined\r\n      };\r\n\r\n      this.formSubmit.emit(serviceRequest);\r\n    }\r\n  }\r\n\r\n  onCancel() {\r\n    this.formCancel.emit();\r\n  }\r\n\r\n  isFieldInvalid(fieldName: string): boolean {\r\n    const field = this.serviceForm.get(fieldName);\r\n    return !!(field && field.invalid && (field.dirty || field.touched));\r\n  }\r\n\r\n  getFileUrl(filePath?: string): string {\r\n    if (!filePath) return '';\r\n    return `http://localhost:5000/${filePath}`;\r\n  }\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}